{% extends 'shopway/base.html' %}
{% block title%}{{block.super}} -> {{details.name}}{% endblock %}
{% block content %}

<div class="container">
	<div class="row">
		<div class="col-xl-6 col-lg-6 img-justify" style="display: flex;justify-content: left;">
			<img id="im" src="{{details.image.url}}" alt="">
		</div>
	
		<div class="col-xl-6 col-lg-6">
		<h2>{{details.name}}</h2><p id="description">{{details.description}}</p>
		{% if cart %}
			<p class="btn btn-light btn-sm product-style red" disabled>Товар не добавлен</p>
		{% else %}
			<a href="{% url 'cart' %}"><p id="cart-has" class="btn btn-light btn-sm product-style light" disabled>Товар добавлен</p></a>
		{% endif %}
		<p id="p"><span id="country">Страна</span>&nbsp; {{details.country}}</p><br>
		<p id="p" class="price-color"><span id="country">Цена </span><span id="price">&nbsp;{{details.price}}</span></p><br>
		<a href="#" id="back" class="btn btn-light go">
			<i class="fa fa-undo">назад</i>
		</a>
	
	</div>
	</div>
</div>
	
<style>
.product-style{
	margin-bottom: 3em;
	padding: 14px;
	border-radius: 5px;
    display: flex;
    justify-content: center;
	border: 1px solid black;

}
.red{
	background-color: #e7aaaa;;
}
.light{
	background-color: #c3dfbf;
}
	.price-color{
		background: #bebcb3!important;
		border: 1px solid black;
	}
@media screen and (max-width: 1199px){
	h2{
		font-size: 1.5rem;
	}
}
	#im{
		margin-bottom: 4%
	}
	span#country:after{
	  content: "->";
	  vertical-align: top;
	  margin-left: 5px;

	}
	#p{
		margin-bottom: 1rem;
		display: flex;
		/* float: right; */
		background: #efe6e6;
		padding: 10px;
		border-radius: 5px;
		justify-content: center;
		border: 1px solid black;
	}

@media(max-width: 991px){
	.img-justify{
		justify-content: center!important;
	}
	h2{
		font-size: 2rem;
		margin-bottom: 4%;
		text-align: center;
	}
	#p{
		font-size: 14px;
		justify-content: center;
		width: 100%;
	}
}
@media screen  and (max-width: 1024px){
	.go{
		width: 100%;
		margin-bottom: 3em;
	}
}
@media (min-width: 768px){
	.col-md-12 {
		flex: 0 0 100%;
		max-width: 100%;
		display: flex;
		flex-direction: column;
		text-align: center;
}
}
</style>
<script>
$('#back').on('click', function(){
	window.history.go(-1);
});

function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
}
a = document.querySelectorAll('#price');
for (item of a){
    console.log(item.textContent)
    item.textContent = numberWithCommas(item.textContent) + '₽'
}
</script>
{% endblock %}